import matplotlib.pyplot as plt
import numpy as np

# 示例数据
q_values = ['bn254 k=20 batch=16', 'bn254 k=22 batch=4', 'bls12381 k=22 batch=1']
enumeration_times = [
    [179.118, 212.153, 265.735, 341.929, 170.2, 208.35, 265.518, 341.848, 171.572, 209.766, 265.445, 341.675, 179.345, 199.134, 241.597, 303.297, 171.046, 198.659, 239.99, 299.339, 173.563, 198.1, 242.545, 303.327, 194.369, 207.991, 243.722, 301.132, 186.034, 207.412, 243.041, 299.992, 187.74, 210.768, 246.282, 302.009, 186.096, 188.142, 227.297, 285.305, 160.349, 187.538, 225.096, 283.457, 162.447, 188.663, 227.538, 286.244, 175.384, 181.674, 214.199, 268.848, 160.124, 181.395, 213.612, 266.044, 163.391, 184.343, 216.393, 268.292, 291.966, 188.335, 221.194, 274.336, 171.196, 189.285, 221.195, 272.862, 174.69, 188.039, 222.885, 275.148, 169.313, 183.416, 226.005, 303.16, 161.843, 183.225, 224.434, 299.906, 165.023, 185.201, 226.569, 304.489, 262.436, 241.218, 280.567, 357.402, 221.387, 241.201, 280.712, 357.387, 223.541, 245.457, 283.076, 359.213, 303.43, 238.344, 275.272, 353.977, 220.606, 240.121, 273.828, 352.73, 223.226, 243.145, 278.605, 357.356, 176.364, 196.349, 227.168, 287.159, 176.691, 196.791, 225.459, 285.127, 177.805, 199.333, 227.629, 287.303, 304.838, 299.352, 328.955, 389.0, 281.04, 300.144, 329.755, 388.795, 285.726, 303.672, 332.665, 389.847, 364.968, 341.531, 372.315, 431.89, 324.335, 343.429, 370.639, 427.213, 328.785, 345.743, 374.058, 432.928],
    [140.529, 137.2, 154.254, 181.539, 133.023, 137.306, 154.549, 179.284, 134.878, 133.684, 146.57, 166.155, 130.034, 134.354, 147.253, 166.525, 168.874, 137.023, 144.975, 161.276, 130.267, 133.29, 145.425, 162.439, 134.802, 127.975, 138.776, 158.796, 127.157, 128.132, 138.598, 157.567, 145.388, 143.139, 153.609, 174.926, 139.251, 143.155, 155.426, 175.89, 221.653, 144.176, 156.733, 176.076, 139.15, 144.839, 158.17, 177.089, 131.726, 130.359, 139.957, 159.729, 126.468, 130.54, 141.402, 159.641, 152.159, 156.301, 168.343, 186.765, 151.041, 158.626, 170.186, 187.263, 232.453, 170.099, 181.415, 199.12, 162.64, 170.938, 183.31, 199.34],  # 数据点
    [101.492, 100.027, 104.655, 113.716, 106.67, 84.0806, 88.4675, 95.956, 102.907, 99.7724, 104.443, 115.631, 120.195, 96.4055, 88.7613, 99.412, 119.963, 122.776, 127.503, 135.353, 102.335, 104.445, 109.004, 117.047, 176.806, 102.86, 103.374, 111.672, 151.386, 154.115, 161.204, 173.204, 169.831, 123.199, 129.692, 142.445],
]

# 特殊点（例如GQL和RI的特殊时间值）
special_points = {
    'cost model': [167.525,130.081, 84.0806],  # q20D 和 q20S 的 GQL 特殊点
    # 'RI': [20000, 1500]    # q20D 和 q20S 的 RI 特殊点
}

# 创建画布
fig, ax = plt.subplots()

# 设置对数坐标轴
ax.set_yscale('log')

# x 轴位置
x_positions = [0.2, 0.4, 0.6]

# 画普通散点
for i, times in enumerate(enumeration_times):
    ax.scatter([x_positions[i]] * len(times), times, color='blue', alpha=0.6, s=10)

# 画特殊点
ax.scatter(x_positions, special_points['cost model'], marker='x', color='orange', s=100, label='cost model')
# ax.scatter(x_positions[1], special_points['cost model'][1], marker='v', color='orange', s=100)

# ax.scatter(x_positions[0], special_points['RI'][0], marker='x', color='orange', s=100, label='RI')
# ax.scatter(x_positions[1], special_points['RI'][1], marker='x', color='orange', s=100)

# 添加标签和标题
ax.set_xticks(x_positions)
ax.set_xticklabels(q_values, fontsize=12, style='italic')
ax.set_ylabel('Enumeration Time (ms)')
ax.legend()

# 显示图像
plt.show()
